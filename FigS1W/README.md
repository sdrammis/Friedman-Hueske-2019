# Code for the density quantifications of GCaMP6m+ SPNs in striosomal and matrix compartments in E11/E15 model mice
To identify cell bodies and record their locations, first open the code StrioVsMatrixClusterHistogram.m and load the z-planes of one mouse slice with SPNs labelled with GCaMP6m and striosomal boundaries overlaid. Then, follow the directions in the section titled “How to Create Data for an Image” in StrioVsMatrixClusterHistogram.m. In each array, e.g. strio1Centers, each element is the x- and y- coordinate of a cell body which can be found using the Data Cursor in the Matlab figure. Avoid counting cells multiple times, as they often span multiple z-planes. In some images, the labelled cells have a high enough density that one cannot be sure which cells have already been counted. In these images, one should use the function CellCountingHelper.m. For a given array, e.g. matrixCenters, follow the directions in CellCountingHelper.m, which removes cells that are likely to have been over-counted, and save the resulting array in the workspace to be used in StrioVsMatrixClusterHistogram.m. Once all arrays are created for cell body locations, run the first section of StrioVsMatrixClusterHistogram.m and save the resulting cellCenters.mat structure for later use. Repeat for as many mice as necessary.
To create the data finalMatrixAnalysis.mat and finalStrioAnalysis.mat, open CellClusterCounter.m and run the section “Initialize variables to be saved” in CellClusterCounter.m. Then run the “Finds the most dense striosome” section from CellClusterCounter.m for every cellCenters.mat data that was previously created. Next, run the “Cluster Counts” section in CellClusterCounter.m for every cellCenters.mat data that was previously created. Then in the Command Window, add the appropriate data to structures entitled finalMatrixAnalysis.mat and finalStrioAnalysis.mat. Example data is included for the sake of transparency and instruction.
